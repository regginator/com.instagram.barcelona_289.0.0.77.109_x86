package p000X;

import android.content.Context;
import com.facebook.kotlin.compilerplugins.dataclassgenerate.superclass.KtCSuperShape1S0200000_I2_1;
import com.facebook.react.uimanager.BaseViewManager;
import com.instagram.creation.capture.quickcapture.sundial.store.ClipsStitchedAudioStore$stitchedVoiceoverFlow$3;
import com.instagram.service.session.UserSession;
import java.util.ArrayList;
import java.util.Collection;
import java.util.Iterator;
import java.util.LinkedHashMap;
import java.util.List;
import java.util.Map;
import java.util.concurrent.ExecutorService;
import kotlin.coroutines.jvm.internal.KtSLambdaShape3S0601000_I2;
import kotlin.coroutines.jvm.internal.KtSLambdaShape7S0401000_I2;
/* renamed from: X.DKP */
/* loaded from: classes5.dex */
public final class DKP {
    public final Context A00;
    public final AbstractC37718Jjv A01;
    public final DYP A02;
    public final DYd A03;
    public final UserSession A04;
    public final InterfaceC90264s5 A05;
    public final InterfaceC91504uQ A06;
    public final InterfaceC91504uQ A07;
    public final InterfaceC91504uQ A08;
    public final AbstractC37718Jjv A09;
    public final InterfaceC91504uQ A0A;
    public final InterfaceC91504uQ A0B;
    public final InterfaceC91504uQ A0C;
    public final InterfaceC91504uQ A0D;
    public final InterfaceC91504uQ A0E;
    public final InterfaceC91504uQ A0F;
    public final InterfaceC91504uQ A0G;
    public final InterfaceC91504uQ A0H;
    public final InterfaceC91504uQ A0I;

    public DKP(Context context, DYP dyp, DT6 dt6, DYd dYd, E2Z e2z, UserSession userSession, ExecutorService executorService, InterfaceC34662HrO interfaceC34662HrO, InterfaceC88914pd interfaceC88914pd) {
        this.A00 = context;
        this.A04 = userSession;
        this.A03 = dYd;
        this.A02 = dyp;
        InterfaceC91504uQ interfaceC91504uQ = dYd.A06;
        InterfaceC91504uQ interfaceC91504uQ2 = dyp.A0Q;
        InterfaceC91504uQ interfaceC91504uQ3 = dyp.A0S;
        this.A05 = C31795GZo.A01(EWQ.A00, interfaceC91504uQ, interfaceC91504uQ2, interfaceC91504uQ3);
        InterfaceC90264s5 A02 = C31887Gcb.A02(new KtSLambdaShape3S0601000_I2(dt6, this, null, interfaceC34662HrO), C31795GZo.A00(EWL.A00, dyp.A0Y, dyp.A0O));
        InterfaceC28192Ek4 interfaceC28192Ek4 = DQC.A01;
        CTT ctt = CTT.A00;
        InterfaceC91504uQ A03 = C31794GZn.A03(ctt, interfaceC88914pd, A02, interfaceC28192Ek4);
        this.A0E = A03;
        this.A09 = DLV.A00(null, A03, 3);
        InterfaceC91504uQ A032 = C31794GZn.A03(ctt, interfaceC88914pd, C22188Bs6.A16(C31795GZo.A00(EWJ.A00, A03, dyp.A0N), 6), interfaceC28192Ek4);
        this.A0A = A032;
        InterfaceC91504uQ A033 = C31794GZn.A03(CKP.A00, interfaceC88914pd, C31887Gcb.A02(new ClipsStitchedAudioStore$stitchedVoiceoverFlow$3(dt6, this, e2z, executorService, null, interfaceC34662HrO), C31795GZo.A01(EWR.A00, dyp.A0a, dyp.A0Z, dyp.A0b)), interfaceC28192Ek4);
        this.A08 = A033;
        this.A01 = DLV.A00(null, A033, 3);
        InterfaceC91504uQ A034 = C31794GZn.A03(ctt, interfaceC88914pd, C22188Bs6.A16(C31795GZo.A00(EWM.A00, A033, dyp.A0c), 11), interfaceC28192Ek4);
        this.A0H = A034;
        InterfaceC91504uQ A035 = C31794GZn.A03(ctt, interfaceC88914pd, C22188Bs6.A16(A033, 12), interfaceC28192Ek4);
        this.A0I = A035;
        InterfaceC91504uQ A036 = C31794GZn.A03(ctt, interfaceC88914pd, C22188Bs6.A16(dyp.A0X, 10), interfaceC28192Ek4);
        this.A0G = A036;
        InterfaceC91504uQ interfaceC91504uQ4 = dyp.A0W;
        InterfaceC91504uQ A037 = C31794GZn.A03(ctt, interfaceC88914pd, C22188Bs6.A16(interfaceC91504uQ4, 9), interfaceC28192Ek4);
        this.A0D = A037;
        InterfaceC91504uQ A038 = C31794GZn.A03(ctt, interfaceC88914pd, C31887Gcb.A02(new KtSLambdaShape7S0401000_I2((InterfaceC148208Yc) null, this, e2z, 6), interfaceC91504uQ4), interfaceC28192Ek4);
        this.A0F = A038;
        InterfaceC91504uQ A039 = C31794GZn.A03(ctt, interfaceC88914pd, C22188Bs6.A16(C31795GZo.A00(EWK.A00, A038, dyp.A0U), 8), interfaceC28192Ek4);
        this.A0C = A039;
        Object[] A1b = C22188Bs6.A1b(new InterfaceC91504uQ[]{C25351DPh.A00(interfaceC88914pd, A032), C25351DPh.A00(interfaceC88914pd, A034), A036, C25351DPh.A00(interfaceC88914pd, A039)});
        if (A1b != null) {
            InterfaceC91504uQ A0310 = C31794GZn.A03(ctt, interfaceC88914pd, Bs8.A0P(A1b, this, 39), interfaceC28192Ek4);
            this.A0B = A0310;
            Object[] A1b2 = C22188Bs6.A1b(new InterfaceC91504uQ[]{C25351DPh.A00(interfaceC88914pd, A03), C25351DPh.A00(interfaceC88914pd, A035), A036, A037});
            if (A1b2 != null) {
                this.A07 = C31794GZn.A03(ctt, interfaceC88914pd, C22188Bs6.A16(Bs8.A0P(A1b2, this, 40), 7), interfaceC28192Ek4);
                this.A06 = C31794GZn.A03(ctt, interfaceC88914pd, C22188Bs6.A15(this, C31795GZo.A01(EWP.A00, A0310, interfaceC91504uQ3, dyp.A0T), 14), interfaceC28192Ek4);
                return;
            }
            throw C25970wu.A0c("null cannot be cast to non-null type kotlin.Array<T of kotlin.collections.ArraysKt__ArraysJVMKt.toTypedArray>");
        }
        throw C25970wu.A0c("null cannot be cast to non-null type kotlin.Array<T of kotlin.collections.ArraysKt__ArraysJVMKt.toTypedArray>");
    }

    public final DYJ A00() {
        DYJ dyj = (DYJ) this.A07.getValue();
        if (dyj instanceof CTW) {
            DYR dyr = (DYR) dyj.A03();
            DYP dyp = this.A02;
            float A00 = C25970wu.A00(dyp.A0T.getValue());
            float A002 = C25970wu.A00(dyp.A0N.getValue());
            float A003 = C25970wu.A00(dyp.A0c.getValue());
            float A004 = C25970wu.A00(dyp.A0U.getValue());
            for (DY7 dy7 : dyr.A03) {
                int ordinal = dy7.A04.ordinal();
                if (ordinal != 1) {
                    if (ordinal != 2) {
                        if (ordinal == 5) {
                            dy7.A00 = A004;
                        }
                    } else {
                        dy7.A00 = A003;
                    }
                } else {
                    dy7.A00 = A002;
                }
            }
            dyr.A00 = A00;
            Object value = dyp.A0S.getValue();
            if (value != null && (A00 > BaseViewManager.CAMERA_DISTANCE_NORMALIZATION_MULTIPLIER || C25940wr.A1a((Collection) dyp.A0a.getValue()))) {
                dyr.A01.A01 = value;
            }
            Collection<C155668p2> collection = (Collection) dyp.A0W.getValue();
            if (C25940wr.A1a(collection)) {
                KtCSuperShape1S0200000_I2_1 ktCSuperShape1S0200000_I2_1 = dyr.A01;
                ArrayList A0x = C25920wp.A0x(collection);
                for (C155668p2 c155668p2 : collection) {
                    String str = c155668p2.A03;
                    C155678p3 c155678p3 = c155668p2.A02;
                    A0x.add(new C22701C8g(c155668p2.A01, str, c155678p3.A00, c155678p3.A01, c155678p3.A02));
                }
                ktCSuperShape1S0200000_I2_1.A00 = A0x;
            }
        }
        return dyj;
    }

    public final C22685C7j A01() {
        DYJ dyj;
        DYR dyr;
        if (C24091Con.A00(this.A04)) {
            dyj = A00();
        } else {
            dyj = (DYJ) this.A06.getValue();
        }
        if (dyj instanceof CTW) {
            dyr = (DYR) dyj.A03();
        } else {
            dyr = new DYR(BaseViewManager.CAMERA_DISTANCE_NORMALIZATION_MULTIPLIER, 31);
        }
        List A0E = DYd.A00(this.A03).A0E();
        DYP dyp = this.A02;
        LinkedHashMap A0o = C25970wu.A0o();
        Iterator A0k = C25930wq.A0k((Map) dyp.A0Q.getValue());
        while (A0k.hasNext()) {
            Map.Entry A0q = C25940wr.A0q(A0k);
            if (A0q.getKey() instanceof CUE) {
                C25980wv.A1O(A0o, A0q);
            }
        }
        LinkedHashMap A0o2 = C25940wr.A0o(C4V3.A0N(A0o.size()));
        Iterator A0y = C22189Bs7.A0y(A0o);
        while (A0y.hasNext()) {
            Map.Entry A0q2 = C25940wr.A0q(A0y);
            Object key = A0q2.getKey();
            C0OR.A0C(key, "null cannot be cast to non-null type com.instagram.creation.capture.quickcapture.video.model.IgVideoSegment");
            A0o2.put(key, A0q2.getValue());
        }
        C85P c85p = new C85P();
        EnumC23775CjI enumC23775CjI = (EnumC23775CjI) dyp.A0S.getValue();
        if (enumC23775CjI != null) {
            c85p.add(new CUC(enumC23775CjI));
        }
        C26175Dmx c26175Dmx = (C26175Dmx) dyp.A0R.getValue();
        if (c26175Dmx != null) {
            c85p.add(new CUB(c26175Dmx));
        }
        C12040Ot.A11(c85p);
        return C24476Cv2.A00(dyr, A0E, c85p, A0o2);
    }
}
